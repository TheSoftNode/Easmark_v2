(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[386],{60167:function(e,t,a){Promise.resolve().then(a.bind(a,33626))},33626:function(e,t,a){"use strict";a.r(t);var s=a(57437),o=a(2265),n=a(48614),r=a(53736),i=a(58065),u=a(84830),l=a(52909),c=a(65299),d=a(81334),y=a(11789),p=a(53376),g=a(41111);t.default=()=>{let[e,t]=(0,o.useState)("upload"),[a,v]=(0,o.useState)("thesis"),[m,h]=(0,o.useState)(0),[T,A]=(0,o.useState)(""),[q,C]=(0,o.useState)(null),[f,b]=(0,o.useState)(null),[S,x]=(0,o.useState)(null),k=function(e,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50,s=0,o=setInterval(()=>{e(s+=2),s>=100&&(clearInterval(o),t())},a)},P=e=>{C(e),t("uploading"),k(h,()=>t("uploadComplete"))},j=e=>{A(e),t("error")},E=()=>{t("upload"),h(0),C(null),A("")};return(0,s.jsx)(s.Fragment,{children:(0,s.jsxs)("div",{className:"min-h-screen pt-20 bg-gradient-to-br from-violet-50 via-blue-50 to-white",children:[(0,s.jsx)("div",{className:"absolute inset-0 bg-[url('/grid.svg')] bg-center [mask-image:linear-gradient(180deg,white,rgba(255,255,255,0))]"}),(0,s.jsx)(n.M,{mode:"wait",children:"complete"===e&&f?(0,s.jsx)(r.E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:(0,s.jsx)(g.Z,{data:S,uploadType:a,onBack:()=>{t("upload")}})}):(0,s.jsxs)(r.E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"container mx-auto px-4 py-16 max-w-3xl relative",children:["upload"===e&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(i.B,{uploadType:a,onTypeChange:v}),"thesis"===a?(0,s.jsx)(l.Z,{onFileSelect:P,onError:j}):(0,s.jsx)(u.Z,{onSubmit:e=>{e.content instanceof File&&P(e.content)},onError:j})]}),"uploading"===e&&(0,s.jsx)(c.t,{uploadProgress:m,uploadType:a,fileName:(null==q?void 0:q.name)||""}),"uploadComplete"===e&&q&&(0,s.jsx)(d.k,{fileName:q.name,file:q,onUploadAgain:E,onStartAnalysis:e=>{b(e),t("analyzing")},uploadType:a}),"analyzing"===e&&(0,s.jsx)(y.k,{uploadType:a,onAnalysisComplete:()=>{let e=localStorage.getItem("analysisData");e&&(x(JSON.parse(e)),b(JSON.parse(e)),t("complete"))}}),"error"===e&&(0,s.jsx)(p.X,{error:T,onTryAgain:E})]})})]})})}},73494:function(e,t,a){"use strict";a.d(t,{KD:function(){return r},Kk:function(){return d},Wj:function(){return c},ZJ:function(){return n},gF:function(){return h},gM:function(){return i},pv:function(){return v},tu:function(){return g},wu:function(){return m}});var s=a(23557),o=a(24960);let n=(0,s.LC)({reducerPath:"analysisApi",baseQuery:(0,o.ni)({baseUrl:"".concat("https://easmark-platform.onrender.com","/analysis"),prepareHeaders:e=>{let t=localStorage.getItem("token");return t&&e.set("authorization","Bearer ".concat(t)),e}}),tagTypes:["Analytics","AnalyticsStats"],endpoints:e=>({performAnalysis:e.mutation({query:e=>({url:"/perform/",method:"POST",body:e}),invalidatesTags:["Analytics","AnalyticsStats"]}),getUserAnalytics:e.query({query:()=>"/user-analytics/",providesTags:["AnalyticsStats"]}),getAnalysisHistory:e.query({query:()=>"/history/",providesTags:["Analytics"]}),getGlobalAnalytics:e.query({query:()=>"/global-analytics/",providesTags:["AnalyticsStats"]}),getAnalysisTypes:e.query({query:()=>"/types/",providesTags:["Analytics"]}),createAnalysisType:e.mutation({query:e=>({url:"/types/create/",method:"POST",body:e}),invalidatesTags:["Analytics"]}),getAnalysisStats:e.query({query:()=>"/stats/",providesTags:["Analytics"]}),getAnalysisRecordHistory:e.query({query:()=>"/record/history/",providesTags:["Analytics"]}),saveAnalysisResult:e.mutation({query:e=>({url:"/save/",method:"POST",body:e}),invalidatesTags:["Analytics"]}),getMyAnalysisHistory:e.query({query:()=>"/my-history/",providesTags:["Analytics"]}),updateAnalysis:e.mutation({query:e=>{let{analysis_id:t,data:a}=e;return{url:"/single/".concat(t,"/update/"),method:"PUT",body:a}},invalidatesTags:["Analytics"]}),deleteAnalysis:e.mutation({query:e=>{let{analysis_id:t,analysis_type:a}=e;return{url:"/single/".concat(t,"/delete/"),method:"DELETE",params:{analysis_type:a}}},async onQueryStarted(e,t){let{analysis_id:a}=e,{dispatch:s,queryFulfilled:o}=t,r=s(n.util.updateQueryData("getMyAnalysisHistory",void 0,e=>{e.thesis=e.thesis.filter(e=>e.id!==a),e.code=e.code.filter(e=>e.id!==a)}));try{await o}catch(e){r.undo()}},invalidatesTags:["Analytics"]})})}),{usePerformAnalysisMutation:r,useGetUserAnalyticsQuery:i,useGetAnalysisHistoryQuery:u,useGetGlobalAnalyticsQuery:l,useGetAnalysisTypesQuery:c,useCreateAnalysisTypeMutation:d,useGetAnalysisStatsQuery:y,useGetAnalysisRecordHistoryQuery:p,useSaveAnalysisResultMutation:g,useUpdateAnalysisMutation:v,useGetMyAnalysisHistoryQuery:m,useDeleteAnalysisMutation:h}=n},68220:function(e,t,a){"use strict";a.d(t,{DO:function(){return u},Ms:function(){return h},_B:function(){return r},aX:function(){return i},hF:function(){return g},hc:function(){return m},wr:function(){return l},xx:function(){return n}});var s=a(23557),o=a(24960);let n=(0,s.LC)({reducerPath:"couponApi",baseQuery:(0,o.ni)({baseUrl:"".concat("https://easmark-platform.onrender.com"),prepareHeaders:e=>{let t=localStorage.getItem("token");return t&&e.set("authorization","Bearer ".concat(t)),e}}),tagTypes:["Coupons","ActiveCoupons"],endpoints:e=>({getUserCouponHistory:e.query({query:()=>"/coupons/history",providesTags:["Coupons","ActiveCoupons"]}),revokeCoupon:e.mutation({query:e=>({url:"/coupons/action/revoke/",method:"POST",body:e}),invalidatesTags:["Coupons","ActiveCoupons"]}),getAdminAllCoupons:e.query({query:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{url:"/coupons/admin/all",params:e}},providesTags:["Coupons","ActiveCoupons"]}),createCoupon:e.mutation({query:e=>({url:"/coupons/create/",method:"POST",body:e}),invalidatesTags:["Coupons"]}),listCoupons:e.query({query:()=>"/coupons/list",providesTags:["Coupons"]}),getCoupon:e.query({query:e=>"/coupons/".concat(e),providesTags:["Coupons"]}),updateCoupon:e.mutation({query:e=>{let{code:t,data:a}=e;return{url:"/coupons/".concat(t),method:"PUT",body:a}},invalidatesTags:["Coupons","ActiveCoupons"]}),deleteCoupon:e.mutation({query:e=>({url:"/coupons/".concat(e),method:"DELETE"}),invalidatesTags:["Coupons","ActiveCoupons"]}),applyCoupon:e.mutation({query:e=>({url:"/coupons/action/apply/",method:"POST",body:e}),transformErrorResponse:e=>({status:e.status,data:e.data}),invalidatesTags:["ActiveCoupons"]}),getActiveCoupons:e.query({query:()=>"/coupons/action/active",providesTags:["ActiveCoupons"]}),validateCoupon:e.mutation({query:e=>({url:"/coupons/action/validate/",method:"POST",body:e}),transformErrorResponse:e=>({status:e.status,data:e.data})}),getAdminActiveCoupons:e.query({query:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{url:"/coupons/admin/active",params:e}},providesTags:["ActiveCoupons"]})})}),{useGetUserCouponHistoryQuery:r,useRevokeCouponMutation:i,useGetAdminAllCouponsQuery:u,useCreateCouponMutation:l,useListCouponsQuery:c,useGetCouponQuery:d,useUpdateCouponMutation:y,useDeleteCouponMutation:p,useApplyCouponMutation:g,useGetActiveCouponsQuery:v,useValidateCouponMutation:m,useGetAdminActiveCouponsQuery:h}=n},15094:function(e,t,a){"use strict";a.d(t,{hF:function(){return d},kx:function(){return n}});var s=a(23557),o=a(24960);let n=(0,s.LC)({reducerPath:"dashboardApi",baseQuery:(0,o.ni)({baseUrl:"/api/dashboard",prepareHeaders:e=>{let t=localStorage.getItem("token");return t&&e.set("authorization","Bearer ".concat(t)),e}}),tagTypes:["Activity","Credits","Usage"],endpoints:e=>({getUsageStats:e.query({query:()=>"/dashboard/stats",providesTags:["Usage"]}),getRecentActivity:e.query({query:()=>"/dashboard/activity",providesTags:["Activity"]}),getCreditHistory:e.query({query:()=>"/dashboard/credits/history",providesTags:["Credits"]}),getAnalytics:e.query({query:()=>"/dashboard/analytics",providesTags:["Usage"]}),purchaseCredits:e.mutation({query:e=>({url:"/dashboard/credits/purchase",method:"POST",body:e}),invalidatesTags:["Credits","Usage"]}),applyCoupon:e.mutation({query:e=>({url:"/dashboard/credits/coupon",method:"POST",body:e}),invalidatesTags:["Credits","Usage"]}),startNewAnalysis:e.mutation({query:e=>({url:"/analysis/start",method:"POST",body:e}),invalidatesTags:["Activity","Credits","Usage"]})})}),{useGetUsageStatsQuery:r,useGetRecentActivityQuery:i,useGetCreditHistoryQuery:u,useGetAnalyticsQuery:l,usePurchaseCreditsMutation:c,useApplyCouponMutation:d,useStartNewAnalysisMutation:y}=n}},function(e){e.O(0,[337,505,557,181,64,736,350,704,685,106,322,971,117,744],function(){return e(e.s=60167)}),_N_E=e.O()}]);