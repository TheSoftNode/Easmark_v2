(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[665],{78278:function(e,t,r){Promise.resolve().then(r.bind(r,71734))},71734:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return v}});var n=r(57437),a=r(2265),o=r(32660),s=r(89345),i=r(66337),l=r(87769),u=r(42208),c=r(51817),d=r(27648),f=r(95186),m=r(62869),h=r(99376),g=r(69064),y=r(21123);function v(){let e=(0,h.useRouter)(),[t,{isLoading:r}]=(0,y.YA)(),[v,p]=(0,a.useState)(!1),[x,b]=(0,a.useState)({email:"",password:""}),w=async r=>{if(r.preventDefault(),!x.email.trim()||!x.password.trim()){g.ZP.error("Please fill in all fields");return}try{let r=await g.ZP.promise(t(x).unwrap(),{loading:"Signing in...",success:"Signed in successfully!",error:e=>{var t;return(null==e?void 0:null===(t=e.data)||void 0===t?void 0:t.error)||"Failed to sign in"}});if("Account not verified"===r.warning){g.ZP.error("Please verify your email first"),e.push("/verify-email?email=".concat(encodeURIComponent(x.email)));return}e.push("/Dashboard")}catch(e){console.error("Login error:",e)}};return(0,n.jsx)("div",{className:"min-h-screen flex flex-col",children:(0,n.jsx)("main",{className:"flex-grow flex items-center justify-center px-4 py-4    bg-[conic-gradient(from_45deg_at_60%_50%,#4f46e520_0deg,#ffffff_90deg,#7e22ce20_180deg,#ffffff_270deg,#4f46e520_360deg)]    relative    before:absolute before:inset-0    before:bg-gradient-to-br before:from-indigo-50/80 before:via-white/90 before:to-purple-50/80    before:backdrop-blur-3xl",children:(0,n.jsx)("div",{className:"w-full max-w-md",children:(0,n.jsxs)("div",{className:"bg-white shadow-xl rounded-2xl p-8 relative overflow-hidden",children:[(0,n.jsx)("div",{className:"absolute top-0 left-0 right-0 h-1 bg-gradient-to-r from-blue-500 via-indigo-500 to-violet-500"}),(0,n.jsxs)("div",{className:"flex flex-col items-center mb-8",children:[(0,n.jsx)(d.default,{href:"/",className:"absolute left-6 top-6 text-gray-600 hover:text-gray-900",children:(0,n.jsx)(o.Z,{className:"h-5 w-5"})}),(0,n.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Welcome Back"}),(0,n.jsx)("p",{className:"text-gray-600 mt-2 text-center",children:"Sign in to continue to your Easmark"})]}),(0,n.jsxs)("form",{onSubmit:w,className:"space-y-6",children:[(0,n.jsxs)("div",{className:"space-y-2",children:[(0,n.jsx)("label",{className:"text-sm font-medium text-gray-700",children:"Email"}),(0,n.jsxs)("div",{className:"relative",children:[(0,n.jsx)(s.Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),(0,n.jsx)(f.I,{type:"email",placeholder:"Enter your email",className:"pl-10",value:x.email,onChange:e=>b({...x,email:e.target.value}),required:!0})]})]}),(0,n.jsxs)("div",{className:"space-y-2",children:[(0,n.jsx)("label",{className:"text-sm font-medium text-gray-700",children:"Password"}),(0,n.jsxs)("div",{className:"relative",children:[(0,n.jsx)(i.Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),(0,n.jsx)(f.I,{type:v?"text":"password",placeholder:"Enter your password",className:"pl-10",value:x.password,onChange:e=>b({...x,password:e.target.value}),required:!0}),(0,n.jsx)("button",{type:"button",onClick:()=>p(e=>!e),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-500 hover:text-gray-700 focus:outline-none",children:v?(0,n.jsx)(l.Z,{className:"h-4 w-4"}):(0,n.jsx)(u.Z,{className:"h-4 w-4"})})]})]}),(0,n.jsx)(m.z,{type:"submit",className:"w-full bg-gradient-to-r from-blue-500 via-indigo-500 to-violet-500    hover:from-blue-600 hover:via-indigo-600 hover:to-violet-600 text-white    font-medium h-11",disabled:r,children:r?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(c.Z,{className:"mr-2 h-4 w-4 animate-spin"}),"Signing in..."]}):"Sign In"}),(0,n.jsx)("div",{className:"text-center text-sm",children:(0,n.jsx)(d.default,{href:"/request-password-reset",className:"text-indigo-600 hover:text-indigo-700",children:"Forgot your password?"})}),(0,n.jsxs)("div",{className:"text-center text-sm text-gray-600",children:["Don't have an account?"," ",(0,n.jsx)(d.default,{href:"/signup",className:"text-indigo-600 hover:text-indigo-700 font-medium",children:"Sign up"})]})]})]})})})})}},62869:function(e,t,r){"use strict";r.d(t,{d:function(){return l},z:function(){return u}});var n=r(57437),a=r(2265),o=r(37053),s=r(90535),i=r(94508);let l=(0,s.j)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),u=a.forwardRef((e,t)=>{let{className:r,variant:a,size:s,asChild:u=!1,...c}=e,d=u?o.g7:"button";return(0,n.jsx)(d,{className:(0,i.cn)(l({variant:a,size:s,className:r})),ref:t,...c})});u.displayName="Button"},95186:function(e,t,r){"use strict";r.d(t,{I:function(){return s}});var n=r(57437),a=r(2265),o=r(94508);let s=a.forwardRef((e,t)=>{let{className:r,type:a,...s}=e;return(0,n.jsx)("input",{type:a,className:(0,o.cn)("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-base shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",r),ref:t,...s})});s.displayName="Input"},94508:function(e,t,r){"use strict";r.d(t,{cn:function(){return o}});var n=r(61994),a=r(53335);function o(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,a.m6)((0,n.W)(t))}},32660:function(e,t,r){"use strict";r.d(t,{Z:function(){return n}});let n=(0,r(79205).Z)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},87769:function(e,t,r){"use strict";r.d(t,{Z:function(){return n}});let n=(0,r(79205).Z)("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]])},42208:function(e,t,r){"use strict";r.d(t,{Z:function(){return n}});let n=(0,r(79205).Z)("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},51817:function(e,t,r){"use strict";r.d(t,{Z:function(){return n}});let n=(0,r(79205).Z)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},66337:function(e,t,r){"use strict";r.d(t,{Z:function(){return n}});let n=(0,r(79205).Z)("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]])},89345:function(e,t,r){"use strict";r.d(t,{Z:function(){return n}});let n=(0,r(79205).Z)("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]])},99376:function(e,t,r){"use strict";var n=r(35475);r.o(n,"useRouter")&&r.d(t,{useRouter:function(){return n.useRouter}}),r.o(n,"useSearchParams")&&r.d(t,{useSearchParams:function(){return n.useSearchParams}})},21123:function(e,t,r){"use strict";r.d(t,{$h:function(){return v},Bl:function(){return l},Pw:function(){return g},TG:function(){return p},YA:function(){return d},_y:function(){return f},gL:function(){return y},iJ:function(){return i},iS:function(){return m},p6:function(){return c},qQ:function(){return u}});var n=r(24960),a=r(23557);let o=(0,n.ni)({baseUrl:"".concat("https://easmark-platform.onrender.com","/users"),prepareHeaders:e=>{let t=localStorage.getItem("token");return t&&e.set("authorization","Bearer ".concat(t)),e}}),s=async(e,t,r)=>{let n=await o(e,t,r);if(console.log(n),null==n?void 0:n.error){var a;if((null===(a=n.error.data)||void 0===a?void 0:a.code)==="token_not_valid"){let a=localStorage.getItem("token");(await t.dispatch(i.endpoints.refreshToken.initiate({access_token:a||""}))).data?n=await o(e,t,r):(localStorage.removeItem("token"),window.location.href="/login")}}return n},i=(0,a.LC)({reducerPath:"authApi",baseQuery:s,tagTypes:["Auth"],endpoints:e=>({signup:e.mutation({query:e=>({url:"/signup/",method:"POST",body:e}),onQueryStarted:async(e,t)=>{let{queryFulfilled:r}=t;try{let{data:e}=await r;localStorage.setItem("token",e.access)}catch(e){}}}),verifyEmail:e.mutation({query:e=>({url:"/verify-email/",method:"POST",body:e})}),resendVerification:e.mutation({query:e=>({url:"/resend-verification/",method:"POST",body:e})}),login:e.mutation({query:e=>({url:"/login/",method:"POST",body:e}),onQueryStarted:async(e,t)=>{let{queryFulfilled:r}=t;try{let{data:e}=await r;localStorage.setItem("token",e.access)}catch(e){}}}),logout:e.mutation({query:()=>({url:"/logout/",method:"POST"}),onQueryStarted:async(e,t)=>{let{queryFulfilled:r}=t;try{await r,localStorage.removeItem("token")}catch(e){}}}),getMe:e.query({query:()=>({url:"/me"})}),refreshToken:e.mutation({query:e=>({url:"/refresh/",method:"POST",body:e}),onQueryStarted:async(e,t)=>{let{queryFulfilled:r}=t;try{let{data:e}=await r;localStorage.setItem("token",e.access)}catch(e){}}}),requestPasswordReset:e.mutation({query:e=>({url:"/password/reset/",method:"POST",body:e})}),updateProfile:e.mutation({query:e=>({url:"/profile/update/",method:"PUT",body:e})}),resetPassword:e.mutation({query:e=>({url:"/password/reset/confirm/",method:"POST",body:e})}),changePassword:e.mutation({query:e=>({url:"/password/change/",method:"POST",body:e})})})}),{useSignupMutation:l,useVerifyEmailMutation:u,useResendVerificationMutation:c,useLoginMutation:d,useLogoutMutation:f,useGetMeQuery:m,useRefreshTokenMutation:h,useRequestPasswordResetMutation:g,useResetPasswordMutation:y,useChangePasswordMutation:v,useUpdateProfileMutation:p}=i},90535:function(e,t,r){"use strict";r.d(t,{j:function(){return s}});var n=r(61994);let a=e=>"boolean"==typeof e?`${e}`:0===e?"0":e,o=n.W,s=(e,t)=>r=>{var n;if((null==t?void 0:t.variants)==null)return o(e,null==r?void 0:r.class,null==r?void 0:r.className);let{variants:s,defaultVariants:i}=t,l=Object.keys(s).map(e=>{let t=null==r?void 0:r[e],n=null==i?void 0:i[e];if(null===t)return null;let o=a(t)||a(n);return s[e][o]}),u=r&&Object.entries(r).reduce((e,t)=>{let[r,n]=t;return void 0===n||(e[r]=n),e},{});return o(e,l,null==t?void 0:null===(n=t.compoundVariants)||void 0===n?void 0:n.reduce((e,t)=>{let{class:r,className:n,...a}=t;return Object.entries(a).every(e=>{let[t,r]=e;return Array.isArray(r)?r.includes({...i,...u}[t]):({...i,...u})[t]===r})?[...e,r,n]:e},[]),null==r?void 0:r.class,null==r?void 0:r.className)}}},function(e){e.O(0,[557,181,64,648,971,117,744],function(){return e(e.s=78278)}),_N_E=e.O()}]);